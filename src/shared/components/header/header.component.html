<mat-toolbar color="primary">

    <span>Tamego</span>

    <ng-container *ngIf="!hideOptions">
        <button mat-icon-button (click)="routeToHome()">
            <mat-icon>home</mat-icon>
        </button>
    </ng-container>

    <span class="banner-spacer"></span>

    <ng-container *ngIf="!hideOptions">

        <ng-container *ngIf="auth.user | async as user">
            <ng-container *ngIf="user.trial.isTrial">
                <p class="mat-body-1">Trial ends in {{user.trial.trialEnd | daysUntil}} days</p>
            </ng-container>

            <ng-container *ngIf="!user.email">
                <button mat-raised-button (click)="openLinkAnonymousAccountDialog()" color="warn">
                    <span>Sign up</span>
                </button>
            </ng-container>
        </ng-container>

        <button mat-icon-button [matMenuTriggerFor]="userOptions">
            <mat-icon>more_vert</mat-icon>
        </button>

        <mat-menu #userOptions="matMenu">

            <button mat-menu-item (click)="routeToSettings()">
                <mat-icon>settings</mat-icon>
                <span>Settings</span>
            </button>

            <button mat-menu-item (click)="auth.signOut()">
                <mat-icon>exit_to_app</mat-icon>
                <span>Sign out</span>
            </button>
        </mat-menu>

    </ng-container>

    <ng-container *ngIf="showDemo">
        <button mat-raised-button color="warn" routerLink="/demo">Try demo</button>
    </ng-container>

</mat-toolbar>
