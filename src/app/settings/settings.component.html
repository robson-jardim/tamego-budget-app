<app-header [title]="'Settings'"></app-header>

<ng-container *ngIf="auth.user | async as user">

    <ng-container *ngIf="user.emailVerified; then verified else unverified">

    </ng-container>

    <ng-template #verified>
        <p mat-body-1>User is verified</p>
    </ng-template>

    <ng-template #unverified>
        <p>You account is currently not verified</p>
        <button mat-button (click)="auth.sendEmailVerification(forceRefreshToken)">Resend verification email</button>
        <button mat-button (click)="auth.verifyUser(forceRefreshToken, showOfflinePopups)">Update verification status
        </button>
    </ng-template>

</ng-container>

<div>
    <input matInput type="email" placeholder="Email" #email>
    <input matInput type="password" placeholder="Password" #password>
    <button (click)="auth.linkAnonymousAccountToEmail(email.value, password.value)">Link to Email</button>
</div>

<app-checkout>

</app-checkout>
