<mat-table #table [dataSource]="budgets"
           [trackBy]="trackBudget">

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns; let index = index;"
             [routerLink]="[row.budgetId]">
    </mat-row>

    <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> Name</mat-header-cell>
        <mat-cell *matCellDef="let element">
            <div class="truncate">
                {{element.budgetName}}
            </div>
        </mat-cell>
    </ng-container>

    <ng-container matColumnDef="lastModified">
        <mat-header-cell *matHeaderCellDef> Last modified</mat-header-cell>
        <mat-cell *matCellDef="let element">
            <div class="truncate">
                {{element.lastModified | date: 'MMM d, yyyy'}}
            </div>
        </mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell *matCellDef="let element; let index = index">

            <button mat-icon-button
                    [matMenuTriggerFor]="options"
                    (click)="$event.stopPropagation()">
                <mat-icon>more_vert</mat-icon>
            </button>

            <mat-menu #options>
                <button (click)="updateBudget(element)" mat-menu-item>Edit</button>
            </mat-menu>

        </mat-cell>
    </ng-container>

</mat-table>
